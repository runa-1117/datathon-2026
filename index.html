<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Access to a Livable Planet | Datathon 2026</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Top bar (minimal) -->
  <header class="top">
    <div class="container top__inner">
      <div class="top__title"> 7th DubsTech Datathon </div>
      <nav class="top__nav">
        <a href="#top">Home</a>
        <a href="#viz">Visualization</a>
        <a href="#ml">Machine Learning</a>
      </nav>
    </div>
  </header>

  <!-- Overview -->
  <section class="section section--hero" id="top">
    <div class="container hero-content">
      <div class="hero-badge">DubsTech Datathon 2026</div>
      <h1>Access to a <span class="hero-accent">Livable Planet</span></h1>
      <p class="lead">
        <span class="callout">Who gets clean air, safe water, and a stable future?</span>
      </p>
      <p class="hero-desc">
        Using EPA AQI data, we apply machine learning and data visualization to uncover hidden air quality risk patterns across U.S. counties.
      </p>

      <div class="kpi">
        <div class="kpi__card kpi__card--problem">
          <div class="kpi__icon">&#x26A0;</div>
          <div class="kpi__label">Problem</div>
          <div class="kpi__value">Unequal exposure to unhealthy air across U.S. communities</div>
        </div>
        <div class="kpi__card kpi__card--approach">
          <div class="kpi__icon">&#x2699;</div>
          <div class="kpi__label">Approach</div>
          <div class="kpi__value">Machine learning + Data visualizations</div>
        </div>
        <div class="kpi__card kpi__card--outcome">
          <div class="kpi__icon">&#x1F4CD;</div>
          <div class="kpi__label">Outcome</div>
          <div class="kpi__value">Identify high-risk regions and pollution regimes</div>
        </div>
      </div>

      <div class="scroll-hint">
        <span class="scroll-hint__text">Scroll to explore</span>
        <div class="scroll-hint__arrow">&#8595;</div>
      </div>
    </div>
  </section>

  <!-- Visualization -->
  <section class="section section--tint" id="viz">
    <div class="container">
      <div class="section-header">
        <span class="section-num">1</span>
        <h2>Analytics & Visualization</h2>
      </div>

      <div class="analysis-stack">
        <div class="analysis-item">
          <h3 class="analysis-item__label">Question</h3>
          <p>Identify areas at the intersection of <strong>high pollution</strong> and <strong>vulnerable populations</strong></p>
        </div>
        <div class="analysis-item">
          <h3 class="analysis-item__label">What we found</h3>
          <ul>
            <li>
              <strong>PM2.5 Shows Strong Correlation with Vulnerable Populations</strong><br>
              Counties with high breast cancer mortality are disproportionately exposed to elevated PM2.5 levels. Texas leads with 14 counties facing both risks, followed by Indiana (12), Washington (11), and Ohio (11). This pattern is concentrated in industrial corridors and urban centers.
            </li>
            <li>
              <strong>NO‚ÇÇ Impact is Limited and Urban-Focused</strong><br>
              Only 3 states show overlap between NO‚ÇÇ exposure and breast cancer mortality (Texas: 6, Georgia: 1, California: 1). This stark difference reflects NO‚ÇÇ's primary source‚Äîtraffic emissions‚Äîwhich creates a clear urban-rural divide in exposure patterns.
            </li>
            <li>
              <strong>Geographic Inequity Reveals Structural Problems</strong><br>
              The overlap isn't random. High-risk counties cluster in petrochemical regions (Texas Gulf Coast), manufacturing hubs (Midwest), and areas with poor air quality infrastructure. Communities already dealing with cancer are systematically exposed to worse environmental conditions.
            </li>
            <li>
              <strong>PM2.5's Broader Sources Make It a Greater Threat</strong><br>
              Unlike NO‚ÇÇ, PM2.5 comes from multiple sources: industrial emissions, wildfires, and vehicle exhaust. This means it affects both urban and rural populations, making it harder to avoid and creating widespread exposure for vulnerable groups.
            </li>
          </ul>
        </div>
        <div class="analysis-item">
          <h3 class="analysis-item__label">Why it matters</h3>
          <p>This isn't just about air quality‚Äîit's about environmental justice. Communities with the highest breast cancer burden are getting hit twice: once by disease, and again by pollution. Counties in industrial areas like Texas and Indiana face compounded health risks that current regulations don't address. We need targeted action: stricter emission controls in high-risk areas, better health resources for polluted counties, and policies that actually protect the people most at risk. Right now, the counties that need the cleanest air are breathing the dirtiest.</p>
        </div>
      </div>

      <!-- Tableau Embed -->
      <div class="viz">
        <div class='tableauPlaceholder' id='viz1770544851800' style='position: relative'>
          <noscript><a href='#'><img alt='Dashboard 1' src='https://public.tableau.com/static/images/da/datathon2026-dashboard2/Dashboard1/1_rss.png' style='border: none' /></a></noscript>
          <object class='tableauViz' style='display:none;'>
            <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
            <param name='embed_code_version' value='3' />
            <param name='site_root' value='' />
            <param name='name' value='datathon2026-dashboard2/Dashboard1' />
            <param name='tabs' value='no' />
            <param name='toolbar' value='yes' />
            <param name='static_image' value='https://public.tableau.com/static/images/da/datathon2026-dashboard2/Dashboard1/1.png' />
            <param name='animate_transition' value='yes' />
            <param name='display_static_image' value='yes' />
            <param name='display_spinner' value='yes' />
            <param name='display_overlay' value='yes' />
            <param name='display_count' value='yes' />
            <param name='language' value='zh-CN' />
            <param name='filter' value='publish=yes' />
          </object>
        </div>
        <script type='text/javascript'>
          var divElement = document.getElementById('viz1770544851800');
          var vizElement = divElement.getElementsByTagName('object')[0];
          if (divElement.offsetWidth > 800) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
          } else if (divElement.offsetWidth > 500) {
            vizElement.style.width = '100%';
            vizElement.style.height = (divElement.offsetWidth * 0.75) + 'px';
          } else {
            vizElement.style.width = '100%';
            vizElement.style.height = '1477px';
          }
          var scriptElement = document.createElement('script');
          scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
          vizElement.parentNode.insertBefore(scriptElement, vizElement);
        </script>
      </div>
    </div>
  </section>

  <!-- Visualization 2 -->
  <section class="section" id="viz2">
    <div class="container">
      <div class="section-header">
        <span class="section-num">2</span>
        <h2>Analytics & Visualization</h2>
      </div>

      <div class="analysis-stack">
        <div class="analysis-item">
          <h3 class="analysis-item__label">Question</h3>
          <p>[Your second analysis question here]</p>
        </div>
        <div class="analysis-item">
          <h3 class="analysis-item__label">What we found</h3>
          <ul>
            <li><strong>[Finding title]</strong><br>[Finding description]</li>
          </ul>
        </div>
        <div class="analysis-item">
          <h3 class="analysis-item__label">Why it matters</h3>
          <p>[Explanation here]</p>
        </div>
      </div>

      <!-- Tableau Embed 2 -->
      <div class="viz">
        <div class="viz__placeholder">
          <p><strong>[Second Tableau dashboard goes here]</strong></p>
          <p class="muted">Replace this block with the Tableau iframe when ready.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Machine Learning -->
  <section class="section section--tint" id="ml">
    <div class="container">
      <h2>K-Means Clustering on County Level Air Quality Profile</h2>

      <p class="muted">To uncover hidden patterns in air quality across U.S. counties, we group counties with similar long-term air quality profiles and applied K-Means sampling to reveal potential geographic, climatic, industrial, and natural drivers underlying these patterns.
      </p>


      <!-- Method + Model Choice -->
      <div class="ml-text-grid">
        <div class="ml-text-card">
          <h4>Method</h4>
          <ul class="ml-list">
            <li>Construct multi-year exposure, baseline, and volatility features</li>
            <li>Validate feature relationships to avoid redundancy</li>
            <li>Cluster counties based on long-term air quality behavior</li>
          </ul>
        </div>

        <div class="ml-text-card">
          <h4>Model Choice</h4>
          <ul class="ml-list">
            <li>K-means chosen for interpretability and stability</li>
            <li>Elbow & silhouette analysis guide cluster selection</li>
            <li><strong>K = 4</strong> balances separation and real-world meaning</li>
          </ul>
        </div>
      </div>

      <!-- Results -->
      <div class="ml-grid">
        <figure class="ml-figure">
          <h3 class="ml-figure__title">Air Quality Cluster Map</h3>
          <img
            src="assets/air_quality_cluster_map.png"
            alt="Air Quality Cluster Map"
            width="1200"
            height="800"
          />
        </figure>

        <div class="ml-legend">
          <div class="legend-item">
            <span class="dot dot-red"></span>
            <div>
              <div class="legend-title">High Burden Mixed</div>
              <div class="muted">Worst overall air quality and stronger extreme events.</div>
            </div>
          </div>

          <div class="legend-item">
            <span class="dot dot-orange"></span>
            <div>
              <div class="legend-title">PM2.5 Chronic</div>
              <div class="muted">Steady, long-term particulate pollution.</div>
            </div>
          </div>

          <div class="legend-item">
            <span class="dot dot-yellow"></span>
            <div>
              <div class="legend-title">Ozone-Dominant</div>
              <div class="muted">Seasonal ozone-driven pollution.</div>
            </div>
          </div>

          <div class="legend-item">
            <span class="dot dot-green"></span>
            <div>
              <div class="legend-title">Clean but Spiky</div>
              <div class="muted">Mostly clean air with short pollution spikes.</div>
            </div>
          </div>

          <div class="legend-item">
            <span class="dot dot-gray"></span>
            <div>
              <div class="legend-title">Insufficient Monitoring</div>
              <div class="muted">
                Counties without sufficient EPA air quality monitoring coverage.
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Finding -->
      <div class="ml-finding">
        <h3>&#x1F50D; County Cluster Lookup</h3>
        <p class="muted">
          Select a county to see its air quality cluster classification based on long-term pollution patterns.
        </p>

        <div class="cluster-lookup">
          <div class="cluster-lookup__controls">
            <div class="form-group">
              <label for="state-select" class="form-label">State</label>
              <select id="state-select" name="state" class="form-select" aria-label="Select state">
                <option value="">Select a state‚Ä¶</option>
              </select>
            </div>

            <div class="form-group">
              <label for="county-select" class="form-label">County</label>
              <select id="county-select" name="county" class="form-select" aria-label="Select county" disabled>
                <option value="">Select a county‚Ä¶</option>
              </select>
            </div>
          </div>

          <div id="cluster-result" class="cluster-result" role="status" aria-live="polite" style="display: none;">
            <div class="cluster-result__header">
              <span class="cluster-result__dot"></span>
              <h4 class="cluster-result__title"></h4>
            </div>
            
            <div class="cluster-section">
              <h5 class="cluster-section__title">Profile</h5>
              <ul class="cluster-section__list" id="cluster-profile"></ul>
            </div>
            
            <div class="cluster-section">
              <h5 class="cluster-section__title">Interpretation</h5>
              <ul class="cluster-section__list" id="cluster-interpretation"></ul>
            </div>
            
            <div class="cluster-section">
              <h5 class="cluster-section__title">Real-world Implication</h5>
              <ul class="cluster-section__list" id="cluster-implication"></ul>
            </div>
          </div>
        </div>
      </div>

      <script>
        // Cluster labels and descriptions
        const clusterLabels = {
          0: {
            name: "Ozone-Dominant",
            color: "yellow",
            profile: [
              "High share of ozone-dominated pollution days.",
              "Low contributions from PM2.5, PM10, CO, and NO2.",
              "Low overall pollution intensity, with relatively low median and peak AQI levels.",
              "Slightly higher proportion of good air-quality days."
            ],
            interpretation: [
              "Air quality is generally acceptable, but pollution episodes are driven by ozone rather than particulate matter.",
              "Pollution is mainly driven by photochemical reactions instead of direct emissions."
            ],
            implication: [
              "Common in regions with strong sunlight and warm temperatures.",
              "Health risk is more related to short-term respiratory irritation during high-ozone periods."
            ]
          },
          1: {
            name: "PM2.5 Chronic",
            color: "orange",
            profile: [
              "<strong>PM2.5 is the dominant pollutant.</strong>",
              "Higher share of unhealthy days across the year.",
              "Extreme pollution peaks are limited; pollution levels remain consistently elevated.",
              "Reflects persistent, long-term exposure rather than short-term events."
            ],
            interpretation: [
              "Represents chronic background pollution with limited variability.",
              "Air quality problems are sustained over time rather than driven by rare extremes."
            ],
            implication: [
              "Often linked to winter inversions, residential burning, or long-lasting regional emissions.",
              "Long-term health burden is high, especially for cardiovascular and respiratory outcomes."
            ]
          },
          2: {
            name: "Clean but Spiky (Traffic/Dust)",
            color: "green",
            profile: [
              "Highest proportion of good air-quality days.",
              "Very low median AQI, but extremely high peak-to-median ratios.",
              "Strong signals in NO2, CO, and PM10.",
              "Pollution is dominated by rare but severe spikes."
            ],
            interpretation: [
              "Air quality is usually clean, but short-lived pollution events occur.",
              "Variability is driven by episodic sources rather than persistent exposure."
            ],
            implication: [
              "Common near highways, urban corridors, or dust-prone regions.",
              "Health risks are mainly associated with acute exposure during short pollution episodes."
            ]
          },
          3: {
            name: "High-Burden Mixed",
            color: "red",
            profile: [
              "Highest share of unhealthy days.",
              "Elevated median AQI indicates generally poor air quality.",
              "Multiple pollutants contribute simultaneously, including PM2.5, ozone, and NO2.",
              "Combines long-term exposure with moderate extreme events."
            ],
            interpretation: [
              "Represents structurally poor air quality driven by multiple sources.",
              "Pollution is both persistent and periodically intensified."
            ],
            implication: [
              "Often found in dense urban or industrial regions, and wildfire-affected areas.",
              "Poses both chronic health risks and heightened vulnerability to extreme pollution events."
            ]
          }
        };

        // Load and parse cluster data
        let countyData = [];

        fetch('cluster.csv')
          .then(response => response.text())
          .then(csv => {
            const lines = csv.trim().split('\n');
            
            // Skip header and parse all data
            for (let i = 1; i < lines.length; i++) {
              const [, state, county, cluster] = lines[i].split(',');
              if (state && county && cluster !== undefined) {
                countyData.push({
                  state: state.trim(),
                  county: county.trim(),
                  cluster: parseInt(cluster)
                });
              }
            }
            
            // Populate state dropdown
            const states = [...new Set(countyData.map(d => d.state))].sort();
            const stateSelect = document.getElementById('state-select');
            states.forEach(state => {
              const option = document.createElement('option');
              option.value = state;
              option.textContent = state;
              stateSelect.appendChild(option);
            });
          })
          .catch(error => {
            console.error('Error loading cluster data:', error);
            alert('Failed to load cluster data. Please make sure you are running this page through a web server.');
          });

        // Handle state selection
        document.getElementById('state-select').addEventListener('change', function(e) {
          const selectedState = e.target.value;
          const countySelect = document.getElementById('county-select');
          const resultDiv = document.getElementById('cluster-result');

          // Reset county dropdown
          countySelect.innerHTML = '<option value="">Select a county‚Ä¶</option>';
          resultDiv.style.display = 'none';

          if (selectedState) {
            // Filter counties by state
            const counties = countyData
              .filter(d => d.state === selectedState)
              .map(d => ({ name: d.county, cluster: d.cluster }))
              .sort((a, b) => a.name.localeCompare(b.name));

            counties.forEach(county => {
              const option = document.createElement('option');
              option.value = county.cluster;
              option.textContent = county.name;
              countySelect.appendChild(option);
            });

            countySelect.disabled = false;
          } else {
            countySelect.disabled = true;
          }
        });

        // Handle county selection
        document.getElementById('county-select').addEventListener('change', function(e) {
          const cluster = parseInt(e.target.value);
          const resultDiv = document.getElementById('cluster-result');
          
          if (!isNaN(cluster) && clusterLabels[cluster]) {
            const info = clusterLabels[cluster];
            
            // Update result display
            const dot = resultDiv.querySelector('.cluster-result__dot');
            const title = resultDiv.querySelector('.cluster-result__title');
            
            dot.className = `cluster-result__dot dot-${info.color}`;
            title.textContent = info.name;
            
            // Populate profile
            const profileList = document.getElementById('cluster-profile');
            profileList.innerHTML = '';
            info.profile.forEach(item => {
              const li = document.createElement('li');
              li.innerHTML = item;
              profileList.appendChild(li);
            });
            
            // Populate interpretation
            const interpretationList = document.getElementById('cluster-interpretation');
            interpretationList.innerHTML = '';
            info.interpretation.forEach(item => {
              const li = document.createElement('li');
              li.innerHTML = item;
              interpretationList.appendChild(li);
            });
            
            // Populate implication
            const implicationList = document.getElementById('cluster-implication');
            implicationList.innerHTML = '';
            info.implication.forEach(item => {
              const li = document.createElement('li');
              li.innerHTML = item;
              implicationList.appendChild(li);
            });
            
            resultDiv.style.display = 'block';
          } else {
            resultDiv.style.display = 'none';
          }
        });
      </script>
    </div>
  </section>

  <!-- Links -->
  <section class="section section--footer" id="links">
    <div class="container">
      <h2>Project Resources</h2>
      <ul class="links">
        <li><a href="https://drive.google.com/drive/u/0/folders/1e-E_GUNo2w_4CTxRWZUdz8_r0qKi5bW5" target="_blank" rel="noopener noreferrer">üìÅ Google Drive Folder</a></li>
        <li><a href="https://github.com/Marc0Guo/Datathon-2026" target="_blank" rel="noopener noreferrer">üíª GitHub Repository</a></li>
      </ul>

      <footer class="footer">
        <span class="muted">Runa He, Marco Guo, Anna Huang, Amelia Li ‚Ä¢ DubsTech Datathon ‚Ä¢ 2026</span>
      </footer>
    </div>
  </section>
</body>
</html>
